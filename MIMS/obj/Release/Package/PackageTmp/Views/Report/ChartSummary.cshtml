@using MIMS
@using MIMS.Helpers
@using Dinota.Security
@using Dinota.Domain.MenuOrderHeader
@using AlfasiWeb.Models
@model EventReportSummary
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_LayoutEvent.cshtml";
    
}

<meta http-equiv="Refresh" content="30">
<div class="d-none">
    <div class="border-bottom p-3 d-flex align-items-center" style="background-color:darkcyan;">
        <a class="toggle togglew toggle-2" href="#"><span></span></a>
        <h4 class="font-weight-bold m-0 text-white">Event In/Out</h4>
    </div>
</div>
<div class="container position-relative">
    <div class="py-5 osahan-profile row">

        <div class="col-md-12 mb-3">
            <div id="content" class="container">

                <div class="content-body">
                    <div class="row">
                        <div class="col-xl-auto">
                            <div class="card">
                                <header class="card-heading ">
                                    <center>
                                        <h3 class="card-title">Dashboard</h3>
                                        </center>
                                </header>

                                @*<div class="card-body">
                                    <canvas id="myChart"></canvas>


                                </div>*@
                            <div class="row" style="padding:8px;">

                                <div class="col-lg-4 col-6">

                                    <div class="small-box bg-info"  style="margin:5px;padding:5px;border-radius:2px;">
                                        <div class="inner">
                                            <h5 style="color:white;"><b>Total In</b></h5>
                                            <h3>@Model.Incount</h3>

                                        </div>
                                        <div class="icon">
                                            <i class="ion-person-add"></i>
                                        </div>
                                        
                                    </div>
                                </div>

                                <div class="col-lg-4 col-6">

                                    <div class="small-box bg-success" style="margin: 5px; padding: 5px; border-radius: 2px;">
                                        <div class="inner">
                                            <h5 style="color:white;"><b>Total Out</b></h5>
                                            <h3>@Model.Outcount</h3>

                                        </div>
                                        <div class="icon">
                                            <i class="ion ion-stats-bars"></i>
                                        </div>
                                        
                                    </div>
                                </div>

                                <div class="col-lg-4 col-6">

                                    <div class="small-box bg-warning" style="margin: 5px; padding: 5px; border-radius: 2px;">
                                        <div class="inner">
                                            <h5 style="color:white;"><b>Inside Count</b></h5>
                                            <h3>@Model.Pendingcount</h3>

                                        </div>
                                        <div class="icon">
                                            <i class="ion ion-person-add"></i>
                                        </div>
                                        
                                    </div>
                                </div>


                            </div>
                            @*<table style="background-color:#f2f2f2;font-size:14px;margin:10px;border:2px solid white;" cellpadding="5" cellspacing="5">
                                <tr style="background-color: #f3bc00; ">
                                    <td><b><i class="feather-user-plus"></i></b></td>
                                    <td><b>Total In</b></td>
                                    <td style="text-align:right">@Model.Incount</td>
                                </tr>
                                <tr style="background-color: #00af82; ">
                                    <td><b><i class="feather-user-minus"></i></b></td>
                                    <td><b>Total Out</b></td>
                                    <td style="text-align:right">@Model.Outcount</td>
                                </tr>
                                <tr style="background-color: #0075a4; font-size: 14px; ">
                                    <td><b><i class="feather-user-check"></i></b></td>
                                    <td><b>Inside</b></td>
                                    <td style="text-align:right">@Model.Pendingcount</td>
                                </tr>
                            </table>*@
                                <div class="card-body">
                                    <canvas id="myPieChart"></canvas>
                                </div>
                                <br/>
                                <div class="card-body">
                                    <canvas id="myLineChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
        $(document).ready(function () {
            // Data for the chart
            var data = {
                labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                datasets: [
                    {
                        label: "Sample Data",
                        data: [12, 19, 3, 5, 2, 3],
                        backgroundColor: [
                            "red",
                            "blue",
                            "yellow",
                            "green",
                            "purple",
                            "orange",
                        ],
                    },
                ],
            };

            // Configuration options
            var options = {
                responsive: true,
                maintainAspectRatio: false,
            };

            // Create a chart on the canvas element
            var ctx = document.getElementById("myChart").getContext("2d");
            var myChart = new Chart(ctx, {
                type: "bar", // You can change the chart type here (e.g., bar, pie, line, etc.)
                data: data,
                options: options,
            });
        });
</script>


<script>
    $(document).ready(function () {
        // Data for the pie chart
        var data = {
            labels: ["Total In", "Total Out", "Inside Count"],
            datasets: [
                {
                    data: [@Model.Incount, @Model.Outcount, @Model.Pendingcount],
                    backgroundColor: [
                        "#17a2b8",
                        "#28a745",
                        "#ffc107",
                    ],
                },
            ],
        };

        // Configuration options
        var options = {
            responsive: true,
            maintainAspectRatio: false,
        };

        // Create a pie chart on the canvas element
        var ctx = document.getElementById("myPieChart").getContext("2d");
        var myPieChart = new Chart(ctx, {
            type: "pie", // Specify the chart type as 'pie'
            data: data,
            options: options,
        });
    });
</script>

<script>

        $(document).ready(function () {
            // Data for the line chart
            var data = {
                labels: [@foreach (EntrySummary sum in Model.EntrySummaryList){<text>"@sum.Time",</text>}],
                datasets: [
                    {
                        label: "In Count",
                        data: [@foreach (EntrySummary sum in Model.EntrySummaryList){<text>@sum.Incount,</text>}],
                        borderColor: "blue",
                        borderWidth: 2,
                        fill: false,
                    },
                     {
                        label: "Out Count",
                        data: [@foreach (EntrySummary sum in Model.EntrySummaryList){<text>@sum.Outcount,</text>}],
                         borderColor: "red",
                         borderWidth: 2,
                         fill: false,
                     },
                ],
            };

            // Configuration options
            var options = {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                    },
                },
            };

            // Create a line chart on the canvas element
            var ctx = document.getElementById("myLineChart").getContext("2d");
            var myLineChart = new Chart(ctx, {
                type: "line", // Specify the chart type as 'line'
                data: data,
                options: options,
            });
        });
</script>
