@using MIMS
@using MIMS.Helpers
@using Dinota.Security
@using Dinota.Domain.MenuCategory
@using Dinota.Domain.Event
@using Dinota.Domain.EventParticipationKid
@using AlfasiWeb.Models
@model ProfileModel
@{
    ViewBag.Title = "MenuOrderList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="d-none">
    <div class="bg-primary border-bottom p-3 d-flex align-items-center">
        <a class="toggle togglew toggle-2" href="#"><span></span></a>
        <h4 class="font-weight-bold m-0 text-white">Update Participation</h4>
    </div>
</div>
<div class="container position-relative">
    <div class="py-5 row">
        <div class="col-md-12 mb-3">
            <div>
                <div class="osahan-cart-item mb-3 rounded shadow-sm bg-white overflow-hidden">
                    <div class="osahan-cart-item-profile bg-white p-3">
                        <div class="d-flex flex-column">
                            <h6 class="mb-3 font-weight-bold">Update Participation</h6>
                            <div class="row">
                                <div class="col-md-3">&nbsp;</div>
                                <div class="col-md-6 ">
                                    
                                        <div class="modal-body">
                                            <input type="hidden" name="eventuid" id="eventuid2">
                                            <div class="form-row">
                                                <div class="mb-0 col-md-12 form-group">

                                                    @Html.Message()
                                                    @using (Html.BeginForm("SearchProfile", "Menu", new { id = Model.EventId }, FormMethod.Post, new { @class = "form-horizontal" }))
                                                    {
                                                        <label class="form-label">Service No</label>
                                                        <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                            <input type="text" class="form-control" name="ServiceNo" required />
                                                        </div>
                                                        <div class="col-md-12"><br /></div>
                                                        <div class="modal-footer p-0 border-0">
                                                            <div class="col-6 m-0 p-0">
                                                                <button type="reset" value="CANCEL" name="btnSubmit" class="btn border-top  btn-block">Clear</button>
                                                            </div>
                                                            <div class="col-6 m-0 p-0">
                                                                <button type="submit" value="SUBMIT" name="btnSubmit" class="btn btn-primary  btn-block">Search</button>
                                                            </div>
                                                        </div>
                                                    }
                                                    <hr />
                                                  @if (Model.IsSet)
                                                    {
                                                          @*
                                                        if (Model.RankUId != 10 && Model.RankUId!= 27)
                                                        {
                                                           
                                                        <div style="background-color:#d48585;padding:10px;color:black;font-size:12px;"><br />Only the rank of Air Commodore and above can participate the event</div><br/>
                                                        }
                                                        *@
                                                        using (Html.BeginForm("UpdateAttendance", "Menu", new { id = Model.EventId }, FormMethod.Post, new { @class = "form-horizontal" }))
                                                        {
                                                            <input type="hidden" name="UserId" value="@Model.UserId">
                                                            <input type="hidden" name="EventParticipationUId" value="@Model.EventParticipationUId">

                                                            <label class="form-label">Service No</label>
                                                            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                                <input type="number" class="form-control" name="ServiceNo" value="@Model.ServiceNo" readonly />
                                                            </div>
                                                            <label class="form-label">Name</label>
                                                            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                                <input type="text" class="form-control" name="Name" value="@Model.Name" />
                                                            </div>
                                                            <label class="form-label">Adult Count</label>
                                                            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                                <input type="number" class="form-control" name="AdultCount" value="@Model.AdultCount" required />
                                                            </div>
                                                            @*<label class="form-label">Child Count</label>
                                                            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                                <input type="number" class="form-control" name="ChildCount" value="@Model.ChildCount" required />
                                                            </div>
                                                            <label class="form-label">Guest Count</label>
                                                            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                                <input type="text" class="form-control" name="GuestCount" value="@Model.GuestCount" required />
                                                            </div>*@
                                                            <div class="modal-footer p-0 border-0">
                                                                <div class="col-6 m-0 p-0">
                                                                    <button type="reset" value="CANCEL" name="btnSubmit" class="btn border-top btn-block">Clear</button>
                                                                </div>
                                                                <div class="col-6 m-0 p-0">
                                                                    <button type="submit" value="SUBMIT" name="btnSubmit" class="btn btn-primary btn-block">Attend</button>
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                </div>

                                            </div>

                                        </div>
                                       
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

